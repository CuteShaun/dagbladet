{"version":3,"sources":["components/Article/Article.jsx","components/Modal/Modal.jsx","components/Nav/Nav.js","hooks/http.js","components/ArticleList/ArticleList.jsx","components/LiteArticle/LiteArticle.jsx","components/LiteArticleList/LiteArticleList.jsx","components/App/App.jsx","index.js"],"names":["Article","url","title","imageUrl","width","editId","edit","remove","cancel","save","useState","inputTitle","setInputTitle","className","src","alt","onClick","value","onChange","e","target","handleInputTitle","role","aria-label","Modal","text","openModal","closeModal","restoreArticle","counter","setCounter","useEffect","timer","setInterval","clearInterval","Nav","exact","to","useHttp","loading","setLoading","error","setError","request","useCallback","a","method","body","headers","Accept","JSON","stringify","fetch","response","json","parsedResponse","status","ok","clearError","ArticleList","articles","setArticles","prevArticles","setPrevArticles","setEditId","setOpenModal","getArticles","setEditArticleMode","id","cancelEditMode","saveTitle","articlesWithNewTitle","map","row","type","columns","column","removeArticle","filter","length","key","shortid","generate","LiteArticle","LiteArticleList","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81ac43ae.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Article.css\";\n\nconst Article = ({\n  url = \"\",\n  title = \"\",\n  imageUrl = \"\",\n  width = \"\",\n  editId = null,\n  edit = () => {},\n  remove = () => {},\n  cancel = () => {},\n  save = () => {},\n}) => {\n  const [inputTitle, setInputTitle] = useState(title);\n\n  const handleInputTitle = ({ target }) => {\n    setInputTitle(target.value);\n  };\n\n  return (\n    <div className={`col-lg-${width} col-xl-${width} col-12 col-sm-6 column`}>\n      <figure className={`article-preview`}>\n        <img className=\"img-preview\" src={imageUrl} alt=\"article-preview\" />\n        <div className=\"button-group\">\n          <button className=\"btn btn-secondary first\" onClick={() => edit(url)}>\n            Edit\n          </button>\n          <button className=\"btn btn-danger second\" onClick={() => remove(url)}>\n            Delete\n          </button>\n        </div>\n\n        {editId === url ? (\n          <div className=\"editModeWrapper\">\n            <input value={inputTitle} onChange={(e) => handleInputTitle(e)} />\n\n            <div className=\"btn-icon-group\">\n              <button\n                className=\"btn-icon btn-icon--first\"\n                onClick={() => save(url, inputTitle)}\n              >\n                <span role=\"img\" aria-label=\"apply\">\n                  &#9989;\n                </span>\n              </button>\n              <button className=\"btn-icon btn-icon--second\">\n                <span role=\"img\" aria-label=\"cancel\" onClick={() => cancel()}>\n                  &#10062;\n                </span>\n              </button>\n            </div>\n          </div>\n        ) : (\n          <figcaption className=\"title-preview\">{title}</figcaption>\n        )}\n      </figure>\n    </div>\n  );\n};\n\nexport default Article;\n","import React, { useEffect } from \"react\";\nimport \"./Modal.css\";\n\nconst Modal = ({\n  text,\n  openModal,\n  closeModal,\n  restoreArticle,\n  counter,\n  setCounter,\n}) => {\n  useEffect(() => {\n    if (counter === 0) {\n      closeModal();\n    }\n    const timer =\n      counter > 0 && setInterval(() => setCounter(counter - 1), 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, [closeModal, counter, setCounter]);\n\n  return (\n    <>\n      {openModal && (\n        <div className=\"modalWindow\">\n          <p className=\"message\">{text}</p>\n          <p className=\"message\">This window will disappear after: {counter}</p>\n          <div className=\"options\">\n            <button\n              className=\"button\"\n              onClick={() => {\n                restoreArticle();\n                closeModal();\n              }}\n            >\n              Yes\n            </button>\n            <button className=\"button\" onClick={() => closeModal()}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"./Nav.css\";\n\nconst Nav = () => {\n  return (\n    <nav className=\"nav\">\n      <ul className=\"nav-list\">\n        <li className=\"nav-list-item nav-list-item--1\">\n          <NavLink exact to=\"/\">\n            Main\n          </NavLink>\n        </li>\n        <li className=\"nav-list-item nav-list-item--2\">\n          <NavLink to=\"/titles\">Lite</NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Nav;\n","import {\n    useCallback,\n    useState\n} from 'react';\n\nconst useHttp = () => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n\n    const request = useCallback(\n        async (url, method = 'GET', body = null, headers = {}) => {\n                setLoading(true);\n\n                try {\n                    headers['Content-Type'] = 'application/json;charset=utf-8';\n                    headers.Accept = 'application/json';\n\n                    if (method !== 'GET') {\n                        body = JSON.stringify(body);\n                    }\n                    const response = await fetch(url, {\n                        method,\n                        headers,\n                        body\n                    });\n                    const parsedResponse = await response.json();\n\n                    if (response.status === 401) {\n                        return false;\n                    }\n\n                    if (!response.ok) setError(parsedResponse);\n\n                    return parsedResponse;\n                } catch (e) {\n                    setError(e);\n\n                    return '';\n                } finally {\n                    setLoading(false);\n                }\n            },\n            []\n    );\n\n    const clearError = useCallback(() => setError(null), []);\n\n    return {\n        loading,\n        request,\n        error,\n        clearError\n    };\n};\n\nexport default useHttp;","import React, { useEffect, useCallback, useState } from \"react\";\nimport { Article } from \"../Article\";\nimport { Modal } from \"../Modal\";\nimport { Nav } from \"../Nav\";\nimport { useHttp } from \"../../hooks\";\nimport shortid from \"shortid\";\n\nimport \"./ArticleList.css\";\n\nconst ArticleList = () => {\n  const [articles, setArticles] = useState(null);\n  const [prevArticles, setPrevArticles] = useState(null);\n  const [editId, setEditId] = useState(null);\n  const [openModal, setOpenModal] = useState(null);\n  const [counter, setCounter] = useState(7);\n  const { request } = useHttp();\n\n  const getArticles = useCallback(async () => {\n    const articles = await request(\n      \"https://storage.googleapis.com/aller-structure-task/test_data.json\"\n    );\n\n    setArticles(articles);\n  }, [request]);\n\n  useEffect(() => {\n    getArticles();\n  }, [getArticles]);\n\n  const setEditArticleMode = (id) => {\n    setEditId(id);\n  };\n\n  const cancelEditMode = () => {\n    setEditId(null);\n  };\n\n  const saveTitle = (id, text) => {\n    const articlesWithNewTitle = articles[0].map((row) => {\n      return {\n        type: \"Row\",\n        columns: row.columns.map((column) => {\n          if (column.url === id) {\n            column.title = text;\n          }\n\n          return column;\n        }),\n      };\n    });\n\n    setArticles([articlesWithNewTitle]);\n    cancelEditMode();\n  };\n\n  const removeArticle = (id) => {\n    setPrevArticles(articles);\n\n    setArticles([\n      articles[0].map((row) => {\n        return {\n          type: \"Row\",\n          columns: row.columns.filter((column) => column.url !== id),\n        };\n      }),\n    ]);\n\n    setOpenModal(true);\n\n    setCounter(7);\n  };\n\n  const closeModal = () => {\n    setOpenModal(false);\n  };\n\n  const restoreArticle = () => {\n    setArticles(prevArticles);\n  };\n\n  return (\n    <div className=\"container\">\n      <Nav />\n      <Modal\n        text=\"Would you want to restore deleted article?\"\n        openModal={openModal}\n        closeModal={closeModal}\n        restoreArticle={restoreArticle}\n        counter={counter}\n        setCounter={setCounter}\n      />\n      {articles && articles.length && (\n        <div className=\"row\" key={shortid.generate()}>\n          {articles[0].map((row) => {\n            return row.columns.map((column) => (\n              <Article\n                {...column}\n                key={shortid.generate()}\n                edit={setEditArticleMode}\n                cancel={cancelEditMode}\n                save={saveTitle}\n                editId={editId}\n                remove={removeArticle}\n              />\n            ));\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import React from \"react\";\nimport \"./LiteArticle.css\";\n\nconst LiteArticle = ({ url = \"\", title = \"\" }) => (\n  <div className=\"lite-title-wrapper\">\n    <h2 className=\"lite-title title-preview\">{title}</h2>\n  </div>\n);\n\nexport default LiteArticle;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport { useHttp } from \"../../hooks\";\nimport shortid from \"shortid\";\nimport { LiteArticle } from \"../LiteArticle\";\nimport { Nav } from \"../Nav\";\n\nimport \"./LiteArticleList.css\";\n\nconst LiteArticleList = () => {\n  const [articles, setArticles] = useState(null);\n  const { request } = useHttp();\n\n  const getArticles = useCallback(async () => {\n    const articles = await request(\n      \"https://storage.googleapis.com/aller-structure-task/test_data.json\"\n    );\n\n    setArticles(articles);\n  }, [request]);\n\n  useEffect(() => {\n    getArticles();\n  }, [getArticles]);\n\n  return (\n    <div className=\"container\">\n      <Nav />\n      {articles &&\n        articles.length &&\n        articles[0].map((row) => {\n          return (\n            <div\n              className=\"row justify-content-center\"\n              key={shortid.generate()}\n            >\n              {row.columns.map((column) => (\n                <LiteArticle {...column} key={shortid.generate()} />\n              ))}\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default LiteArticleList;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { ArticleList } from \"../ArticleList\";\nimport { LiteArticleList } from \"../LiteArticleList\";\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/\" exact>\n      <ArticleList />\n    </Route>\n    <Route path=\"/main\" exact>\n      <ArticleList />\n    </Route>\n    <Route path=\"/titles\">\n      <LiteArticleList />\n    </Route>\n  </Switch>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}